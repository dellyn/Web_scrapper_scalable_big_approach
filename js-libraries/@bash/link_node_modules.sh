# This script creates a symbolic link for node_modules between project folders

SOURCE_DIR="js-packages"
TARGET_DIRS=("react-components" "html" "company" "react-modules" "todo")

# Loop through each target directory and create a symlink
for DIR in "${TARGET_DIRS[@]}"; do
  if [ -d "$DIR" ]; then
    # Check if node_modules already exists in the source directory
    if [ ! -d "$SOURCE_DIR/node_modules" ]; then
      echo "node_modules does not exist in $SOURCE_DIR"
      continue
    fi

    # Attempt to create the symbolic link
    ln -sfn ../$SOURCE_DIR/node_modules $DIR/node_modules
    if [ $? -eq 0 ]; then
      echo "Linked node_modules to $DIR"
    else
      echo "Failed to link node_modules to $DIR"
    fi
  else
    echo "Directory $DIR does not exist"
  fi
done
